var App=function(){return{constants:{formatGender:function(e){return"M"===e?"男":"F"===e?"女":"N"===e?"未知":e},formatAge:function(e){return{5:"50后",6:"60后",7:"70后",8:"80后",9:"90后",0:"00后"}[e]}},cache:{put:function(e,t){window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},getAsBoolean:function(e){var t=window.localStorage.getItem(e);return!0===t||"true"===t||1===t||-1===t}}}}(),toast=function(e){var t={positionClass:"toast-top-center",showMethod:"slideDown",showDuration:600,timeOut:3e3},n={success:function(t){e.success(t)},error:function(t){e.error(t)},info:function(t){e.info(t)},warn:function(t){e.warn(t)}};return function(o,i,a){a=a||{},$.extend(e.options,t,a),i=i||"success",n[i]?n[i](o):console.log("toast method is not found:"+i+", you can pass method: success|error|warn|info")}}(window.toastr),Messenger=function(e){function t(e,t,n){var o={title:"",message:"",type:"success",confirmButtonText:"确定",cancelButtonText:"取消",allowEscapeKey:!1,allowOutsideClick:!1};if("string"==typeof e)return $.extend({},o,n||{},{title:e,type:t});var i=$.extend({},o,n||{},{type:t},e);return i.text=i.message,i}return{alert:function(t,n){e(t).then(function(){"function"==typeof n&&n.call(this),e.close()})},info:function(n,o){e(t(n,"info")).then(function(){"function"==typeof o&&o.call(this),e.close()})},success:function(n,o){e(t(n,"success")).then(function(){"function"==typeof o&&o.call(this),e.close()})},warning:function(n,o){e(t(n,"warning",{showCancelButton:!0,confirmButtonColor:"#f0ad4e"})).then(function(){"function"==typeof o&&o.call(this),e.close()})},error:function(n,o){e(t(n,"error",{showCancelButton:!0,confirmButtonColor:"#d9534f"})).then(function(){"function"==typeof o&&o.call(this),e.close()})},confirm:function(n,o){e(t(n,"question",{showCancelButton:!0})).then(function(){"function"==typeof o&&o.call(this),e.close()})},propup:function(n,o){var i={title:"",text:"",input:"text",inputPlaceholder:"",inputValue:"",showCancelButton:!0};"string"==typeof n?i=t(n,"",i):(i=$.extend(i,n),i=t(i.message,"",i)),i.inputValidator=function(e){return new Promise(function(t,n){e?t():n("请填写内容！")})},e(i).then(function(t){"function"==typeof o&&o.call(this,t),e.close()})},close:function(){e.close()}}}(window.swal),Dlg=function(e){var t={id:"",title:"",width:500,height:400,className:"",url:"",data:{},template:"",buttons:[],onOk:null,onLoaded:null},n=function(n){if(this.$smodal=null,this.options=e.extend({},t,n),this.loading=!0,n.element){var o=this;e(n.element).on("click",function(){o._init()})}else this._init()};return n.prototype={constructor:n,close:function(){this.$smodal.remove()},_init:function(){var t=this,n=t._buildModalHtml(t.options);e(document.body).append(n),t.$smodal=e("#"+t.options.id),t._loadContent(t);var o=t.$smodal.find("#btnOk");o.length>0&&o.off().on("click",function(){var e=null,n=n||null;"function"==typeof n&&(e=n.call(t)),"function"==typeof t.options.onOk?null!==e&&!1!==e?(t.options.onOk.call(t,e),t.close()):t.options.onOk.call(t):t.close()}),t.$smodal.on("click",'[data-dismiss="smodal"]',function(){t.close()})},_buildBtns:function(){var t=this.options.buttons;0===t.length&&(t=[{id:"btnCancel",class:"btn-default",text:"取消"},{id:"btnOk",class:"btn-primary",text:"确定"}]);var n="";return e.each(t,function(e,t){n+='<button type="button" class="btn '+t.class+'" id="'+t.id+'"',"btnCancel"===t.id&&(n+=' data-dismiss="smodal" '),n+=">"+t.text+"</button>"}),'<div class="footer">'+n+"</div>"},_loadContent:function(){var t=this,n=t.$smodal.find(".body"),o=t.options;if(n.css({width:o.width,height:o.height}),o.url&&""!==o.url)e.get(o.url,o.data,function(e){n.html(e);var o=o||null;"function"==typeof o?o.call(t):"function"==typeof t.options.onLoaded&&t.options.onLoaded.call(t)});else{var i="";i="function"==typeof o.template?o.template.call():o.template,n.html(i)}},_buildLoading:function(){return'<div class="loading"><i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i><span class="sr-only">努力加载中...</span></div>'},_buildModalHtml:function(){var e=this.options;""===e.id&&(e.id=(new Date).getTime()+Math.floor(900*Math.random()+100));var t='<div class="smodal '+e.className+'" id="'+e.id+'">';return t+='  <div class="backdrop">',t+='      <div class="content">',"function"==typeof e.title&&(e.title=e.title()),!1!==e.title&&(t+='      <div class="heading">',t+='          <button type="button" class="close" data-dismiss="smodal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>',t+="          <h4>"+e.title+"</h4>",t+="      </div>"),t+='<div class="body">'+this._buildLoading()+"</div>",t+=this._buildBtns(e.buttons),t+="      </div>",t+="  </div>",t+="</div>"}},n}(jQuery);!function(e){function t(t){return this.each(function(){var n=e(this),o=n.data("bs.dlg"),i=e.extend({element:this},n.data(),"object"==typeof t&&t);o||n.data("bs.dlg",o=new Dlg(i)),"string"==typeof t&&(o[t]?o[t]():e.error("Method "+t+" does not exist on jQuery.dlg"))})}e.fn.dlg=t,e.fn.dlg.Constructor=Dlg}(jQuery),function(e){var t={url:"",data:{},dataType:"json",refresh:!0,onSuccess:null,onFail:null,onFinally:null},n=function(e,t){if(0===t.returnCode)"function"==typeof e.onSuccess?e.onSuccess.call(this,t):(toast("操作成功"),!0===e.refresh&&window.location.reload());else if("function"==typeof e.onFail)e.onFail.call(this,t);else{var n="抱歉，系统异常无法执行操作。";t.returnMsg&&(n=t.returnMsg),toast(n,"error")}},o=function(e,t){if("function"==typeof e.onFail)e.onFail.call(this,t);else{var n="抱歉，系统异常无法执行操作。";if(t.responseText)try{n=JSON.parse(t.responseText).returnMsg}catch(e){}toast(n,"error")}};e.ajax={post:function(e){var i=$.extend({},{type:"POST"},t,e);$.ajax(i).done(function(e){n(i,e)}).fail(function(e){o(i,e)}).always(function(){"function"==typeof i.onFinally&&i.onFinally.call(this)})},get:function(e){var i=$.extend({},{type:"GET"},t,e);$.ajax(i).done(function(e){n(i,e)}).fail(function(e){o(i,e)}).always(function(){"function"==typeof i.onFinally&&i.onFinally.call(this)})},patch:function(e){var i=$.extend({},{type:"PATCH"},t,e);$.ajax(i).done(function(e){n(i,e)}).fail(function(e){o(i,e)}).always(function(){"function"==typeof i.onFinally&&i.onFinally.call(this)})},del:function(e){var i=$.extend({},{type:"DELETE"},t,e);$.ajax(i).done(function(e){n(i,e)}).fail(function(e){o(i,e)}).always(function(){"function"==typeof i.onFinally&&i.onFinally.call(this)})}}}(App),$(function(){$(document).on("click",'[data-toggle-state="aside-toggle"]',function(e){$("body").toggleClass("sidebar-open")}),$(document).on("click",'[data-toggle-state="aside-collapsed"]',function(e){if($("body").toggleClass("sidebar-collapsed"),App.cache.put("collapsed",$("body").hasClass("sidebar-collapsed")),!$("body").hasClass("sidebar-collapsed")){var t=$(".sidebar").find("#subnav");t.length>0&&t.remove()}}),!0===App.cache.getAsBoolean("collapsed")?$("body").addClass("sidebar-collapsed"):$(window).width()>767&&$(window).width()<900&&$("body").addClass("sidebar-collapsed");var e=0;$(document).on("click",".sidebar-item",function(t){if(0!==$(this).find(".sidebar-subnav").length)if($("body").hasClass("sidebar-collapsed")){if(e>0||e===$(this).offset().top){var n=$(".sidebar").find("#subnav");n.length>0&&n.remove()}if(e===$(this).offset().top)return void(e=0);e=$(this).offset().top;var o=$(this).find(".sidebar-subnav").clone();o.removeAttr("style").attr("id","subnav").addClass("subnav-floating").css("top",e).appendTo($(".sidebar"))}else $(".sidebar-item").not($(this)).find(".collapse.in").removeClass("in"),$(".sidebar-item").not($(this)).find("a .pull-right").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).off("hidden.bs.collapse,shown.bs.collapse").on("hidden.bs.collapse",function(){$(this).find("a .pull-right").removeClass("fa-angle-up").addClass("fa-angle-down")}).on("shown.bs.collapse",function(){$(this).find("a .pull-right").removeClass("fa-angle-down").addClass("fa-angle-up")})}),$(".icheck").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue"}),$(".select2").select2({language:"zh-CN"}),$(".date-picker").datetimepicker({format:"yyyy-mm-dd",minView:2,todayBtn:!0,todayHighlight:!0,keyboardNavigation:!0,language:"zh-CN",autoclose:!0}),$(".datetime-picker").datetimepicker({format:"yyyy-mm-dd hh:ii",todayBtn:!0,todayHighlight:!0,keyboardNavigation:!0,language:"zh-CN",autoclose:!0}),$(".currency").accounting("formatMoney",{symbol:""}),$(".currency-rmb").accounting("formatMoney",{symbol:"￥"}),$(".float").accounting("formatNumber",{precision:2}),$(".goBack").on("click",function(){window.history.back()}),$(".parsley-form").length>0&&$(".parsley-form").parsley({trigger:"blur",excluded:"input[type=button], input[type=submit], input[type=reset]"}),$("img").length>0&&$("img").each(function(){var e=!1;this.complete||(e=!0),void 0!==this.naturalWidth&&0===this.naturalWidth&&(e=!0),e&&$(this).bind("error.replaceSrc",function(){this.src="/dist/images/placeholder.png",$(this).unbind("error.replaceSrc")}).trigger("load")});var t=function(){App.ajax.get({url:"/notify/unread",onSuccess:function(e){$("#unreadNotifyCount").text(e.countUnread),e.countUnread>0?$("#unreadNotifyCount").show():$("#unreadNotifyCount").hide()},onFail:function(){$("#unreadNotifyCount").hide()}})};setInterval(function(){t()},1e4),t(),$("#sideUl").on("click",function(){sessionStorage.setItem("fundType",""),sessionStorage.setItem("fundStartDate",""),sessionStorage.setItem("fundEndDate",""),sessionStorage.setItem("fundSearch",""),sessionStorage.setItem("fundSize",1),sessionStorage.setItem("devicePage",1),sessionStorage.setItem("appCurrent",1),sessionStorage.setItem("deviceType",""),sessionStorage.setItem("deviceProduct",""),sessionStorage.setItem("deviceSearch",""),sessionStorage.setItem("tabName","交易记录")})}),function(e,t){function n(){this.userAgent=navigator.userAgent.toLowerCase(),this.platform=navigator.platform,this.appName=navigator.appName,this.appVersion=navigator.appVersion,this.clientStrings=[{name:"Windows 10",reg:/(Windows 10.0|Windows NT 10.0)/},{name:"Windows 8.1",reg:/(Windows 8.1|Windows NT 6.3)/},{name:"Windows 8",reg:/(Windows 8|Windows NT 6.2)/},{name:"Windows 7",reg:/(Windows 7|Windows NT 6.1)/},{name:"Windows Vista",reg:/Windows NT 6.0/},{name:"Windows Server 2003",reg:/Windows NT 5.2/},{name:"Windows XP",reg:/(Windows NT 5.1|Windows XP)/},{name:"Windows 2000",reg:/(Windows NT 5.0|Windows 2000)/},{name:"Windows ME",reg:/(Win 9x 4.90|Windows ME)/},{name:"Windows 98",reg:/(Windows 98|Win98)/},{name:"Windows 95",reg:/(Windows 95|Win95|Windows_95)/},{name:"Windows NT 4.0",reg:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{name:"Windows CE",reg:/Windows CE/},{name:"Windows 3.11",reg:/Win16/},{name:"Android",reg:/Android/},{name:"Open BSD",reg:/OpenBSD/},{name:"Sun OS",reg:/SunOS/},{name:"Linux",reg:/(Linux|X11)/},{name:"iOS",reg:/(iPhone|iPad|iPod)/},{name:"Mac OS X",reg:/Mac OS X/},{name:"Mac OS",reg:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{name:"QNX",reg:/QNX/},{name:"UNIX",reg:/UNIX/},{name:"BeOS",reg:/BeOS/},{name:"OS/2",reg:/OS\/2/},{name:"Search Bot",reg:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}]}n.prototype={getBrowserInfo:function(){var e=this,t=[],n=e.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])&&(t=/\brv[ :]+(\d+)/g.exec(e.userAgent)||[],n[1]="IE",n[2]=t[1]||""),"Chrome"===n[1]&&null!==(t=e.userAgent.match(/\b(OPR|Edge)\/(\d+)/))&&(n[1]="Opera",n[2]=t[1]||""),n=n[2]?[n[1],n[2]]:[e.appName,e.appVersion,"-?"],null!==(t=e.userAgent.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{browser:n[0],version:n[1]}},getOSInfo:function(){var t=this,n=navigator.userAgent,o={os:"",version:""};switch(e.each(t.clientStrings,function(e,t){if(t.reg.test(n))return o.os=t.name,!1}),/Windows/.test(o.os)&&(o.version=/Windows (.*)/.exec(o.os)[1],o.os="Windows"),o.os){case"Mac OS X":o.version=/Mac OS X (10[\.\_\d]+)/.exec(n)[1];break;case"Android":o.version=/Android ([\.\_\d]+)/.exec(n)[1];break;case"iOS":o.version=/OS (\d+)_(\d+)_?(\d+)?/.exec(t.appVersion),o.version=o.version[1]+"."+o.version[2]+"."+(0|o.version[3]);break;default:o.version="未知版本"}return o}},t.browser=n}(jQuery,App);var BootGrid=function(e,t,n,o,i){function a(){var t=this;r.call(t),t.options.requestHandler=function(n){if(t.requestParams.current)n.current=t.requestParams.current,delete t.requestParams.current;else{var o=e("#gridCurPage").val();o&&o>0&&(n.current=o)}return e.extend({},n,t.requestParams)},c.call(t),t.$element.bootgrid(t.options)}function s(t,n){var o="",i=t.id;if(i.indexOf(".")){var a=i.split(".");e.each(a,function(e,t){o=0===e?n[t]:o[t]})}else o=n[t.id];return o}function r(){var n=this;n.options.formatters=e.extend({link:function(e,t){return'<a href="'+n.options.url+"/"+t.id+'">'+s(e,t)+"</a>"},commands:function(e,t){var n='<button type="button" class="btn btn-xs btn-default command-edit" data-row-id="'+t.id+'">编辑</button> ';return n+='<button type="button" class="btn btn-xs btn-default command-delete" data-row-id="'+t.id+'">删除</button> '},formatGender:function(e,n){return t.constants.formatGender(s(e,n))},formatAge:function(e,n){return t.constants.formatAge(s(e,n))},formatDate:function(e,t){var n=s(e,t);return null!==n&&""!==n?i(n).format("YYYY-MM-DD"):""},formatDateTime:function(e,t){var n=s(e,t);return null!==n&&""!==n?i(n).format("YYYY-MM-DD HH:mm"):""}},n.options.formatters)}function l(){var t=this;e(".command-edit").on("click",function(){t.openEditForm(e(this).data("rowId"))}),e(".command-delete").on("click",function(){var n=e(this).data("rowId");t.deleteEntity(n)})}function c(){var t=this,n=t.options;t.$element.on("initialized.rs.jquery.bootgrid",function(){if(t.$container.fadeIn(),e(".grid-refresh").length>0&&e(".grid-refresh").on("click",function(){t.reload()}),e(".grid-search").length>0){var o=e(".grid-search:eq(0)"),i=e(".grid-search-go:eq(0)");void 0===i&&(i=o.closest("div").find("button:eq(0)")),i.on("click",function(){t.search(o.val())});var a;o.keyup(function(e){13===e.keyCode?t.search(o.val()):(a=e.timeStamp,setTimeout(function(){a-e.timeStamp==0&&t.search(o.val())},500))})}"function"==typeof n.onInitialized&&n.onInitialized.call(t)}).on("loaded.rs.jquery.bootgrid",function(){"function"==typeof n.onLoaded&&n.onLoaded.call(t);var o=window.location.href,i=e(this).bootgrid("getCurrentPage"),a=o.indexOf("currentPage");if(a>-1){var s=o.substr(a-1,a+9);o=o.replace(s,"")}var r=o.lastIndexOf("#");r>-1&&r===o.length-1&&(o=o.replace("#","")),o.indexOf("&")>-1||o.indexOf("?")>-1?o+="&currentPage="+i:o+="?currentPage="+i,window.history.replaceState({},0,o),e("#gridCurPage").val(0),delete t.requestParams.current,l.call(t)}).on("selected.rs.jquery.bootgrid",function(e,o){"function"==typeof n.onSelected&&n.onSelected.call(t,o)}).on("deselected.rs.jquery.bootgrid",function(e,o){"function"==typeof n.onSelected&&n.onDeSelected.call(t,o)})}var d={id:"dataGrid",url:"",data:{},formatters:{},rowCount:15,multiSelect:!0,onInitialized:null,onLoaded:null,onSelected:null,onDeSelected:null},u=function(t){this.options=e.extend({},d,t),this.$element=e("#"+this.options.id),this.$container=this.$element.closest(".data-grid-container"),this.requestParams=this.options.data||{},a.call(this)};return u.prototype={reload:function(t){this.requestParams=e.extend({},this.requestParams,"object"==typeof t?t:{}),this.requestParams.current=this.getCurrentPage(),this.$element.bootgrid("reload")},search:function(e){"string"==typeof e?this.$element.bootgrid("search",e):"object"==typeof e&&this.reload(e)},getSelectedRows:function(){return this.$element.bootgrid("getSelectedRows")},getCurrentPage:function(){return this.$element.bootgrid("getCurrentPage")},getTotalPageCount:function(){return this.$element.bootgrid("getTotalPageCount")},openEditForm:function(e){window.open(this.options.url+"/"+e+"/edit","_self")},deleteEntity:function(e){var i=this;n.confirm("是否确定删除该项？",function(){t.ajax.del({url:i.options.url+"/"+e+"/delete",onSuccess:function(){o("数据已删除"),i.refresh()}})})}},u}(jQuery,App,Messenger,toast,moment);!function(e){var t=e(".data-grid");t.length>0&&t.each(function(){var t=e(this).attr("id");""!==t&&null!==t&&void 0!==t||(t=(new Date).getTime()+Math.floor(900*Math.random()+100),e(this).attr("id",t));var n=e(this).data();n.id=t,new BootGrid(n)})}(jQuery),function(e){e.fn.serializeObject=function(){var t={},n=this.serializeArray();return e.each(n,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t}}(jQuery);var Uploader=function(e,t,n){var o={pluploadParams:{},id:"btnUploader",mediaType:0,maxFileSize:10485760,prefix:"",enableProgress:!0,progressPosition:"bottom",startOnAdd:!0,fileNamePolicy:"random",multi:!1,saveUrl:"/media/save",saveGroup:"",managable:!1,startOnSave:!0,targetId:-1,targetType:"",onAdd:null,onComplete:null,onUploading:null,onFail:null},i=function(e){this.options=$.extend({},o,e),this.element=this.options.id,this.$element=$("#"+this.element),this.instance=null,this.files=[],this.ossSignature={accessKeyId:"",expire:"",host:"",startPath:"",policy:"",signature:""};var t=this;this._initOssSignature(function(){t._init()})};return i.prototype={save:function(){var e=this,t=this.options.saveUrl,n=e.renderMedias();if(""!==t&&null!==t&&n.length>0){var o="";o="function"==typeof e.options.saveGroup?e.options.saveGroup.call(this):e.options.saveGroup,$.ajax({url:t,data:{group:o,managable:e.options.managable,medias:JSON.stringify(n),targetId:e.options.targetId,targetType:e.options.targetType},dataType:"json",type:"POST"}).done(function(t){0===t.returnCode?("function"==typeof e.options.onComplete&&e.options.onComplete.call(e,t),e.files=[]):(toast("已上传文件信息保存失败","error"),"function"==typeof e.options.onFail&&e.options.onFail.call(e,n))}).fail(function(){toast("已上传文件信息保存失败","error"),"function"==typeof e.options.onFail&&e.options.onFail.call(e,n)})}else"function"==typeof e.options.onComplete&&e.options.onComplete.call(e,n)},renderMedias:function(){var e=this;if(this.files.length>0){var t=[];return $.each(this.files,function(n,o){t.push({mediaType:e.options.mediaType,name:o.name,path:o.path,fileSize:o.size})}),t}return[]},_init:function(){var e=this,t=e.ossSignature,o=$.extend({},{browse_button:e.element,url:t.host,multipart_params:{success_action_status:"200",key:"${filename}",policy:t.policy,OSSAccessKeyId:t.accessKeyId,signature:t.signature},filters:{mime_types:e._getMediaFilter(),max_file_size:e.options.maxFileSize},multi_selection:e.options.multi,prevent_duplicates:!1,init:{FilesAdded:function(t,n){e.options.enableProgress&&e._showProgressPopover(n),e.options.startOnAdd?t.start():"function"==typeof e.options.onAdd&&e.options.onAdd.call(e,t,n)},BeforeUpload:function(n,o){var i=n.getOption("multipart_params"),a=t.startPath+"/"+e._buildPath(o.name,e.options.prefix);i.key=a,n.setOption("multipart_params",i),o.path="/"+a},UploadProgress:function(t,n){"function"==typeof e.options.onUploading?e.options.onUploading.call(e,n.percent):e.options.enableProgress&&$("."+e.element+"-popover").find("#"+n.id).css("width",n.percent+"%")},FileUploaded:function(t,n,o){200===o.status?e.files.push(n):toast("文件上传失败,请尝试重新上传","error")},UploadComplete:function(){e.options.enableProgress&&e.$element.popover("hide"),e.options.startOnSave&&e.save()},Error:function(t,n){toast("文件上传失败,请尝试重新上传","error"),"function"==typeof e.options.onFail&&e.options.onFail.call(e,t,n)}}},e.options.pluploadParams);e.instance=new n.Uploader(o),e.instance.init(),e.options.enableProgress&&e._initProgressPopover()},_initOssSignature:function(t){var n=this,o=App.cache.get("ossSignature"),i=!0;o&&(n.ossSignature=JSON.parse(o),e().isBefore(e(n.ossSignature.expire))&&(i=!1)),i?$.ajax({url:"/sys/oss/signature",type:"GET",dataType:"json"}).done(function(e){n.ossSignature=$.extend(n.ossSignature,e),App.cache.put("ossSignature",JSON.stringify(n.ossSignature)),"function"==typeof t&&t.call(this)}).fail(function(e){console.log("获取oss签名失败"+JSON.stringify(e))}):"function"==typeof t&&t.call(this)},_buildPath:function(n,o){var i=e(),a=n.substr(n.lastIndexOf(".")),s="";return o&&(s=o+"/"),s+=i.format("YYYYMMDD")+"/"+i.format("HHmm")+"/","random"===this.options.fileNamePolicy?s+=t(n)+a:s+=n,s},_initProgressPopover:function(){var e=this,t='<div class="popover '+e.element+'-popover progress-popover" id="" role="tooltip">';t+='<div class="arrow"></div>',t+='<h3 class="popover-title"></h3>',t+='<div class="popover-content"></div></div>',this.$element.popover({placement:e.options.progressPosition+" auto",container:"body",html:!0,trigger:"manual",template:t,content:"00000"}),e.$element.on("shown.bs.popover",function(){$("."+e.element+"-popover .popover-content").html($("#"+e.element+"PopoverContent").html())})},_showProgressPopover:function(e){var t=this,n=$("#"+t.element+"PopoverContent");n.empty();var o=$("<div class='progress-container'/>");$.each(e,function(e,t){var n=$("<div/>").addClass("progress-item");n.append($("<div/>").addClass("filename").text(t.name));var i=$("<div/>").addClass("progress"),a=$("<div/>").addClass("progress-bar progress-bar-striped active").attr({id:t.id,role:"progressbar","aria-valuenow":1,"aria-valuemin":0,"aria-valuemax":100}).css("width","1%");i.append(a),n.append(i),o.append(n)}),n.length>0?n.html(o):$("body").append($("<div id='"+t.element+"PopoverContent' class='hidden'/>").append(o)),t.$element.popover("toggle")},_getMediaFilter:function(){var e=[],t=this.options.mediaType;return 0===t?e={title:"Image files",extensions:"jpg,gif,png,jpeg,ico"}:1===t?e={title:"Audio files",extensions:"mp3,ogg,wav,amr,aud,wma,wave,mpeg-4,aiff,au,mpeg"}:2===t?e={title:"Video files",extensions:"mp4,rmvb,rm,wmv,asf,asx,mpg,mpeg,mpe,3gp,mov,m4v,avi,mkv,flv"}:9===t&&(e={title:"Gen files",extensions:"txt,html,htm,pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,gif,png,jpeg,ico,mp3,ogg,wav,amr,aud,wma,wave,mpeg-4,aiff,au,mpeg,mp4,rmvb,rm,wmv,asf,asx,mpg,mpeg,mpe,3gp,mov,m4v,avi,mkv,flv"}),[e]}},i}(moment,md5,plupload);