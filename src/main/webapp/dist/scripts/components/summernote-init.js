$(function(){if(void 0===typeof ImagePicker)return void console.log("请依赖图片选择器: /dist/scripts/pages/media/media-image-picker.js");$(".summernote").length>0&&$(".summernote").summernote({height:"auto",minHeight:300,maxHeight:1e3,lang:"zh-CN",toolbar:[["style",["style"]],["font",["bold","italic","underline","strikethrough"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["insert",["table","link","pickImg"]],["misc",["codeview"]]],buttons:{pickImg:function(e){return $.summernote.ui.button({className:"summernote-image-picker",contents:'<i class="fa fa-picture-o"/>',tooltip:"图片上传",click:function(){e.invoke("editor.saveRange")}}).render()}},callbacks:{onInit:function(){var e=$(this),t="summernoteImagePicker"+(new Date).getTime()+Math.floor(900*Math.random()+100);e.next(".note-editor").find(".summernote-image-picker").attr("id",t),new ImagePicker({id:t,multiple:!0,onOk:function(t){e.summernote("restoreRange"),e.summernote("focus"),$.each(t,function(t,n){e.summernote("insertImage",n.url)})}})},onFocus:function(){$(this).summernote("saveRange")},onKeydown:function(){$(this).summernote("saveRange")}}})});