var UserNotify=function(n,t,o){return{resetUnReadCount:function(t){n("#unreadNotifyCount").text(t),t>0?n("#unreadNotifyCount").show():n("#unreadNotifyCount").hide()},getUnreadCount:function(){var o=this;t.ajax.get({url:"/notify/unread",onSuccess:function(n){o.resetUnReadCount(n.countUnread)},onFail:function(){n("#unreadNotifyCount").hide()}})},readAll:function(n){var o=this;t.ajax.post({url:"/notify/readAll",onSuccess:function(){o.resetUnReadCount(0),"function"==typeof n&&n.call(o)}})},markRead:function(o,e){var u=this;t.ajax.post({url:"/notify/"+o+"/read",onSuccess:function(){u.resetUnReadCount(parseInt(n("#unreadNotifyCount").text())-1),"function"==typeof e&&e.call(u)}})}}}(jQuery,App,moment);