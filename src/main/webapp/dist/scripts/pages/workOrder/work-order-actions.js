var WorkOrderActions=function(r,e){var n="/shop/workOrder/",o=null;return{setDataGrid:function(r){o=r},refresh:function(){null!==o?o.reload():window.location.reload()},assign:function(r,o){o=o||!1,ShopEmployeeSelector.selectServiceMan(function(t){var s=n+r+"/assign";o&&(s=n+r+"/reassign"),e.ajax.post({url:s,data:{assigneeId:t[0].userDto.id},onSuccess:function(){toast("派单成功"),WorkOrderActions.refresh()},onFail:function(r){Messenger.alert("派单失败, 原因:"+r.returnMsg)}})})},reject:function(r){Messenger.propup({message:"请填写拒绝理由"},function(o){if(""===o.trim())return void toast("请填写拒绝理由","error");e.ajax.post({url:n+r+"/reject",data:{rejectReason:o},onSuccess:function(){toast("订单已拒绝"),WorkOrderActions.refresh()}})})},confirmCancel:function(r){Messenger.confirm("是否确认取消该工单？",function(){e.ajax.post({url:n+r+"/confirmCancel",onSuccess:function(){toast("工单已取消"),WorkOrderActions.refresh()}})})}}}(jQuery,App);